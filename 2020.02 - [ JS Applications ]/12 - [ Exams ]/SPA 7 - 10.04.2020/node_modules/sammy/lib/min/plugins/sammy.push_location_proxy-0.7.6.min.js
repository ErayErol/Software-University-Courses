// -- Sammy.js -- /plugins/sammy.push_location_proxy.js
// http://sammyjs.org
// Version: 0.7.6
// Built: 2014-08-26 10:45:33 +0300
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","sammy"],factory)}else{(window.Sammy=window.Sammy||{}).PushLocationProxy=factory(window.jQuery,window.Sammy)}})(function($,Sammy){Sammy.PushLocationProxy=function(app,selector){this.app=app;this.selector=selector||"a"};$.extend(Sammy.PushLocationProxy.prototype,{bind:function(){var proxy=this;$(window).bind("popstate",function(e){proxy.app.trigger("location-changed")});this.app.$element().on("click",this.selector,function(e){if(location.hostname==this.hostname){e.preventDefault();proxy.setLocation($(this).attr("href"));proxy.app.trigger("location-changed")}})},unbind:function(){this.app.$element().off("click",this.selector);$(window).unbind("popstate")},getLocation:function(){return window.location.pathname},setLocation:function(new_location){history.pushState({path:this.path},"",new_location)}});return Sammy.PushLocationProxy});