// -- Sammy.js -- /plugins/sammy.googleanalytics.js
// http://sammyjs.org
// Version: 0.7.6
// Built: 2014-08-26 10:45:31 +0300
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","sammy"],factory)}else{(window.Sammy=window.Sammy||{}).GoogleAnalytics=factory(window.jQuery,window.Sammy)}})(function($,Sammy){Sammy.GoogleAnalytics=function(app,tracker){var _tracker=tracker||window.pageTracker,trackerName="send",shouldTrack=true;if(typeof tracker=="string"||tracker instanceof String){trackerName=tracker+".send"}function disableTracking(){shouldTrack=false}function enableTracking(){shouldTrack=true}function trackPageview(path){if(typeof ga=="function"){ga(trackerName,"pageview",{page:path})}else if(typeof _gaq!="undefined"){_gaq.push(["_trackPageview",path])}else if(typeof _tracker!="undefined"){_tracker._trackPageview(path)}}this.helpers({noTrack:function(){disableTracking()},track:function(path){if((typeof _tracker!="undefined"||typeof _gaq!="undefined"||typeof ga=="function")&&shouldTrack){this.log("tracking google analytics",path);trackPageview(path)}}});this.bind("event-context-after",function(){var path=this.app.last_location[1];if(path){this.track(path);enableTracking()}})};return Sammy.GoogleAnalytics});